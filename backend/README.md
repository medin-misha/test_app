# Backend API –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ üí∏

–≠—Ç–æ –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç —Ä–∞—Å—Ö–æ–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤ –≥—Ä–∏–≤–Ω–∞—Ö) –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö –≤ XLS-—Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é üìä.

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
**–ú–æ–¥–µ–ª–∏:**
- **User** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–≤—è–∑–∞–Ω—ã —Ä–∞—Å—Ö–æ–¥—ã (Spending)
- **Spending** ‚Äî —Ä–∞—Å—Ö–æ–¥—ã

**Views:**
- CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ —Å **Spending**
- **BaseAuth** ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ —Å chat_id (–ø–∞—Ä–æ–ª—å))
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—ã–¥–∞—á–∞ XLS-—Ñ–∞–π–ª–∞ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ (–∫–æ—Ç–æ—Ä—ã–π –∑–∞–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

**DevOps:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è üê≥
- –ó–∞–ø—É—Å–∫ —Å **gunicorn** üöÄ

### –°—Ç–µ–∫:
- FastAPI, SQLAlchemy, Gunicorn, Aiohttp, Alembic, Asyncpg, Openpyxl, Pydantic, Pydantic-settings, Ruff, Uvicorn

### –ó–∞–ø—É—Å–∫:
–î–ª—è –Ω–∞—á–∞–ª–∞ –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `run.sh`, –¥–∞–ª–µ–µ –≤–ø–∏—Å–∞—Ç—å –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```bash
#!/bin/bash

export postgres_host=postgres/postgres_db
export postgres_user=postgres_user
export postgres_password=postgres_password
export currencylayer_key=—Ç–≤–æ–π api key –æ—Ç https://currencylayer.com/dashboard

uv run alembic revision --autogenerate -m "migrations"
uv run alembic upgrade head
uv run gunicorn main:app --workers 33 --worker-class uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000
```

–≠—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∫–æ–º–∞–Ω–¥—ã –º–∏–≥—Ä–∞—Ü–∏–π –∏ –∑–∞–ø—É—Å–∫–∞. –î–∞–ª–µ–µ —Ç–µ–±–µ —Å–ª–µ–¥—É–µ—Ç –∑–∞–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤—ã—à–µ (—Ç–∞–º, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è docker-compose) –∏ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—É:

```bash
docker-compose up --build
```

–ü–æ–¥–æ–∂–¥–∏ –Ω–µ–º–Ω–æ–≥–æ, –∏ –≤—Å—ë –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è. –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É **127.0.0.1:8001** üåê.

[CurrencyLayer - –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç](https://currencylayer.com/dashboard) üí±

